<!--<div class="mainboderdiv" style="width: 672px;padding: 10px;border: 1px solid black;height: 336px;margin-right: 24px;">
    <div class="row">
        <div class="col-sm-8">
            <img style="width: 88px;" src="/gs_sme/images/NTB_logo.png">
        </div>
        <div class="col-sm-4">
            <div class="row">
                <div class="col-sm-3" style="width: 48px;">
                    <div class="row">
                        <div class="col-sm-6 chkcolsm6" style="border-style: groove;border-width: 1px;text-align: center;padding: 0px;width: 24px; border-right:none;">2</div>
                        <div class="col-sm-6 chkcolsm6" style="border-style: groove;border-width: 1px;text-align: center;padding: 0px;width: 24px; border-right:none;">5</div>
                    </div>
                </div>
                <div class="col-sm-3" style="width: 48px;">
                    <div class="row">
                        <div class="col-sm-6 chkcolsm6" style="border-style: groove;border-width: 1px;text-align: center;padding: 0px;width: 24px; border-right:none;">0</div>
                        <div class="col-sm-6 chkcolsm6" style="border-style: groove;border-width: 1px;text-align: center;padding: 0px;width: 24px; border-right:none;">7</div>
                    </div>
                </div>
                <div class="col-sm-3" style="width: 48px;">
                    <div class="row">
                        <div class="col-sm-6 chkcolsm6" style="border-style: groove;border-width: 1px;text-align: center;padding: 0px;width: 24px; border-right:none;">2</div>
                        <div class="col-sm-6 chkcolsm6" style="border-style: groove;border-width: 1px;text-align: center;padding: 0px;width: 24px; border-right:none;">0</div>
                    </div>
                </div>
                <div class="col-sm-3" style="width: 48px;">
                    <div class="row">
                        <div class="col-sm-6 chkcolsm6" style="border-style: groove;border-width: 1px;text-align: center;padding: 0px;width: 24px; border-right:none;">1</div>
                        <div class="col-sm-6 chkcolsm6" style="border-style: groove;border-width: 1px;text-align: center;padding: 0px;width: 24px;">7</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-8"></div>
        <div class="col-sm-4">
            <div class="row">
                <div class="col-sm-3" style="width: 48px;">
                    <div class="row">
                        <div class="col-sm-6 chkcolsm6d" style="text-align: center;padding: 0px; width: 24px;font-size: 0.8em;">D</div>
                        <div class="col-sm-6 chkcolsm6d" style="text-align: center;padding: 0px; width: 24px;font-size: 0.8em;">D</div>
                    </div>
                </div>
                <div class="col-sm-3" style="width: 48px;">
                    <div class="row">
                        <div class="col-sm-6 chkcolsm6d" style="text-align: center;padding: 0px; width: 24px;font-size: 0.8em;">M</div>
                        <div class="col-sm-6 chkcolsm6d" style="text-align: center;padding: 0px; width: 24px;font-size: 0.8em;">M</div>
                    </div>
                </div>
                <div class="col-sm-3" style="width: 48px;">
                    <div class="row">
                        <div class="col-sm-6 chkcolsm6d" style="text-align: center;padding: 0px; width: 24px;font-size: 0.8em;">Y</div>
                        <div class="col-sm-6 chkcolsm6d" style="text-align: center;padding: 0px; width: 24px;font-size: 0.8em;">Y</div>
                    </div>
                </div>
                <div class="col-sm-3" style="width: 48px;">
                    <div class="row">
                        <div class="col-sm-6 chkcolsm6d" style="text-align: center;padding: 0px; width: 24px;font-size: 0.8em;">Y</div>
                        <div class="col-sm-6 chkcolsm6d" style="text-align: center;padding: 0px; width: 24px;font-size: 0.8em;">Y</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-sm-12">
            <span class="col-sm-1" style="padding-left: 0;padding-right: 0;width: 5.5%;">Pay : </span>
            <p class="col-sm-11 paycls" style="border-style: groove;border-width: 1px;width: 78.5%;margin-left: 0px;border-top: none;border-right: none;border-left: none;">Ahamed Rifkan</p>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-sm-7">
            <span class="col-sm-1" style="padding-right: 0; padding-left: 0; width: 15%;">Rupees : </span>
            <p class="col-sm-11 paycls" style="border-style: groove;border-width: 1px;width: 78.5%; margin-left: 0px;border-top: none;border-right: none;border-left: none;">One Million Rupees Only</p>
            <p class="col-sm-11 paycls" style="width: 93.5%;border-style: groove;border-width: 1px;margin-left: 0px;border-top: none;border-right: none;border-left: none;">One Million Rupees Only</p>
            <p class="col-sm-11 paycls" style="width: 93.5%;border-style: groove;border-width: 1px;margin-left: 0px;border-top: none;border-right: none;border-left: none;">One Million Rupees Only</p>
        </div>
        <div class="col-sm-5" style="padding-left: 0;margin-top: 17px;">
            <div class="chkamntbx" style="border-style: groove;border-width: 1px;text-align: center;width: 252px;height: 36px;">
                1,000,000.00
            </div>
        </div>
    </div>
</div>
<br>-->
<?php
function is_decimal($val)
{
    if (round(($val-(int)$val), 14)==0.99999999999272) {
        return (int)round($val);
    } else {
        return $val;
    }
}

 function convert_number_to_words($number)
    {
        $hyphen = " ";
        $conjunction = " and ";
        $separator = ", ";
        $negative = "negative ";
        $decimal = " and cents ";
        $dictionary = array( 0 => "zero", 1 => "one", 2 => "two", 3 => "three", 4 => "four", 5 => "five", 6 => "six", 7 => "seven", 8 => "eight", 9 => "nine", 10 => "ten", 11 => "eleven", 12 => "twelve", 13 => "thirteen", 14 => "fourteen", 15 => "fifteen", 16 => "sixteen", 17 => "seventeen", 18 => "eighteen", 19 => "nineteen", 20 => "twenty", 30 => "thirty", 40 => "fourty", 50 => "fifty", 60 => "sixty", 70 => "seventy", 80 => "eighty", 90 => "ninety", 100 => "hundred", 1000 => "thousand", 1000000 => "million", 1000000000 => "billion", 1000000000000 => "trillion", 1000000000000000 => "quadrillion", 1000000000000000000 => "quintillion" );
        if (!is_numeric($number))
        {
            return false;
        }
        if (($number >= 0 && (int) $number < 0) || (int) $number < 0 - PHP_INT_MAX)
        {
            trigger_error( "convert_number_to_words only accepts numbers between -" . PHP_INT_MAX . " and " . PHP_INT_MAX, E_USER_WARNING );
            return false;
        }
        if ($number < 0)
        {
            return $negative . convert_number_to_words(abs($number));
        }
        $string = $fraction = null;
        if (strpos($number, ".") !== false)
        {
            list($number, $fraction) = explode(".", $number);
        }
        switch (true)
        {
            case $number < 21: $string = $dictionary[$number];
            break;
            case $number < 100: $tens = ((int) ($number / 10)) * 10;
            $units = $number % 10;
            $string = $dictionary[$tens];
            if ($units)
            {
                $string .= $hyphen . $dictionary[$units];
            }
            break;
            case $number < 1000: $hundreds = $number / 100;
            $remainder = $number % 100;
            $string = $dictionary[$hundreds] . " " . $dictionary[100];
            if ($remainder)
            {
                $string .= $conjunction . convert_number_to_words($remainder);
            }
            break;
            default: $baseUnit = pow(1000, floor(log($number, 1000)));
            $numBaseUnits = (int) ($number / $baseUnit);
            $remainder = $number % $baseUnit;
            $string = convert_number_to_words($numBaseUnits) . " " . $dictionary[$baseUnit];
            if ($remainder)
            {
                $string .= $remainder < 100 ? $conjunction : $separator;
                $string .= convert_number_to_words($remainder);
            }
            break;
        }
        if (null !== $fraction && is_numeric($fraction))
        {
            $string .= $decimal;
            $words = array();
            foreach (str_split((string) $fraction) as $number)
            {
                $words[] = $dictionary[$number];
            }
            $string .= implode(" ", $words);
        }
        return $string;
    }




function numberTowords($num)
{ 
$ones = array( 
1 => "one", 
2 => "two", 
3 => "three", 
4 => "four", 
5 => "five", 
6 => "six", 
7 => "seven", 
8 => "eight", 
9 => "nine", 
10 => "ten", 
11 => "eleven", 
12 => "twelve", 
13 => "thirteen", 
14 => "fourteen", 
15 => "fifteen", 
16 => "sixteen", 
17 => "seventeen", 
18 => "eighteen", 
19 => "nineteen" 
); 
$tens = array( 
1 => "ten",
2 => "twenty", 
3 => "thirty", 
4 => "forty", 
5 => "fifty", 
6 => "sixty", 
7 => "seventy", 
8 => "eighty", 
9 => "ninety" 
); 
$hundreds = array( 
"hundred", 
"thousand", 
"million", 
"billion", 
"trillion", 
"quadrillion" 
); //limit t quadrillion 
$num = number_format($num,2,".",","); 
$num_arr = explode(".",$num); 
$wholenum = $num_arr[0]; 
$decnum = $num_arr[1]; 
$whole_arr = array_reverse(explode(",",$wholenum)); 
krsort($whole_arr); 
$rettxt = ""; 
foreach($whole_arr as $key => $i){ 
if($i < 20){ 
$rettxt .= $ones[$i]; 
}elseif($i < 100){ 
$rettxt .= $tens[substr($i,0,1)]; 
$rettxt .= " ".$ones[substr($i,1,1)]; 
}else{ 
$rettxt .= $ones[substr($i,0,1)]." ".$hundreds[0]; 
$rettxt .= " ".$tens[substr($i,1,1)]; 
$rettxt .= " ".$ones[substr($i,2,1)]; 
} 
if($key > 0){ 
$rettxt .= " ".$hundreds[$key]." "; 
} 
} 
if($decnum > 0){ 
$rettxt .= " and "; 
if($decnum < 20){ 
$rettxt .= $ones[$decnum]; 
}elseif($decnum < 100){ 
$rettxt .= $tens[substr($decnum,0,1)]; 
$rettxt .= " ".$ones[substr($decnum,1,1)]; 
} 
} 
return $rettxt; 
}









$str =  $extra['master']['PVchequeDate'];
$date = explode("-",$str);

$year = str_split($date[0]);
$month = str_split($date[1]);
$day = str_split($date[2]);
$grand_total=0;
$invoice_total=0;
$debitnote=0;
$total=0;
foreach($extra['detail'] as $val){
    $grand_total +=$val['transactionAmount'];
}
if(!empty($extra['debitnote'])){
    foreach($extra['debitnote'] as $debt){
        $debitnote +=$debt['transactionAmount'];
    }

    $grand_total=$grand_total-$debitnote;
}
//$grand_total=5000;
if(!empty($extra['tax']['taxPercentage'])){
    if(!empty($extra['invoice'])){
        foreach($extra['invoice'] as $valu){
            $invoice_total +=$valu['transactionAmount'];
        }
        $tax=($grand_total-$invoice_total)*$extra['tax']['taxPercentage']/100;
        $total= is_decimal($tax+$grand_total-$debitnote);

    }else{
        $tax=$grand_total*$extra['tax']['taxPercentage']/100;
        $total= is_decimal($tax+$grand_total-$debitnote);
    }
}else{
    $total=  is_decimal($grand_total-$debitnote);
}
if($extra['master']['transactionCurrency']=="OMR"){
    $point=format_number($total,3);
}else{
    $point=format_number($total,2);
}

$str_arr = explode('.',$point);
/*if($str_arr[1]>0){
    if($extra['master']['transactionCurrency']=="OMR"){
        $totwithdecimal=$str_arr[0].'.'.$str_arr[1].' / 1000';
    }else{
        $totwithdecimal=$str_arr[0].'.'.$str_arr[1].' / 100';
    }
}else{
    $totwithdecimal=$point;
}*/
$totwithdecimal=$point;

/*$f = new NumberFormatter("en", NumberFormatter::SPELLOUT);
$word= $f->format($grand_total);*/


$str1 = $str = $str3 = '';
$a=$this->load->library('NumberToWords');
$number=$total;
$numberinword= $this->numbertowords->convert_number($number);
//echo "numberinword : $numberinword <br/>";
$finStr = '';
if(strlen($numberinword) > 50){
    $pos=strpos($numberinword, ' ', 50);

    $finStr = $str1 = substr($numberinword,0,$pos );
    //echo $str1.' 899 <br/>';
    $str = substr($numberinword,$pos);

    if($str1!='') {
        //echo $str . ' 129 <br/>';
        $pos2 = strpos($str1, ' ', 50);
        $finStr .= ' <br/>';
        $finStr .= $str3 = substr($numberinword, $pos, $pos2);
        //echo $str2 . ' <br/>';

        if($str3!=''){
            $pos3 = strpos($str3, ' ', 50);
            $finStr .= ' <br/>';
            $finStr .= $str4 =  substr($numberinword,$pos2,$pos3 );
            //echo $str4.'<br/>';
        }
    }else{
        $str1=$str;
        $str='';
    }

}
else{
    $str1 = $numberinword;
}

if(!empty($str1) && empty($str) && empty($str3)){
    if($str_arr[1]>0){
        if($extra['master']['transactionCurrency']=="OMR"){
            $str1=$str1.' and '.$str_arr[1].' / 1000 Only';
        }else{
            $str1=$str1.' and '.$str_arr[1].' / 100 Only';
        }
    }else{
        $str1=$str1.' Only';
    }
}

if(!empty($str1) && !empty($str) && empty($str3)){
    if($extra['master']['transactionCurrency']=="OMR"){
        $str=$str.' and '.$str_arr[1].' / 1000 Only';
    }else{
        $str=$str.' and '.$str_arr[1].' / 100 Only';
    }
}

if(!empty($str1) && !empty($str) && !empty($str3)){
    if($extra['master']['transactionCurrency']=="OMR"){
        $str3=$str3.' and '.$str_arr[1].' / 1000 Only';
    }else{
        $str3=$str3.' and '.$str_arr[1].' / 100 Only';
    }
}
$chequetype = array('Direct','DirectItem','DirectExpense','Employee','EmployeeExpense','EmployeeItem');
/*echo "str1 :$str1 <br/>";
echo "str2 :$str <br/>";
echo "str3 :$str3 <br/>";*/
?>
<div style="border: 1px solid white;width: 690px; height: 340px; position: absolute;left: 6cm; rotate: 90;" ><!--position: absolute;left: 6cm; rotate: 90;-->
    <table style="margin-top: 26px;">
        <tr>
            <td style="width:50%;">
                <table >
                    <tbody>
                    <tr>
                       <td>&nbsp;</td>

                    </tr>
                    </tbody>
                </table>
            </td>
            <td style="width:30%;">
                <table >
                    <tbody>
                    <tr>
                        <?php
                        if($extra['master']['accountPayeeOnly'] == 1){
                            ?>
                        <td style=" font-weight: bold; font-size: 1em;"><div style="border-bottom:1px solid black;border-top:1px solid black;">A/C Payee only</div></td>
                        <?php
                        }else{
                            ?>
                        <td><img style="width: 88px;" class="hidden" src="<?php echo base_url('images/NTB_logo.png'); ?>"></td>
                        <?php
                        }
                        ?>

                    </tr>
                    </tbody>
                </table>
            </td>
            <td style="width: 20%; vertical-align: bottom;">
                <table style="margin-left:15px;">
                    <tbody>
                    <tr>
                        <td style=" height: 30px;width:30px; font-weight: bold; font-size: 1em;  text-align: center;"><?php echo $day[0]; ?></td>
                        <td style=" height: 30px;width:30px; font-weight: bold; font-size: 1em;  text-align: center;"><?php echo $day[1]; ?></td>
                        <td style=" height: 30px;width:30px; font-weight: bold; font-size: 1em;  text-align: center;"><?php echo $month[0]; ?></td>
                        <td style=" height: 30px;width:30px; font-weight: bold; font-size: 1em;  text-align: center;"><?php echo $month[1]; ?></td>
                        <td style=" height: 30px;width:30px; font-weight: bold; font-size: 1em;  text-align: center;"><?php echo $year[0]; ?></td>
                        <td style=" height: 30px;width:30px; font-weight: bold; font-size: 1em;  text-align: center;"><?php echo $year[1]; ?></td>
                        <td style=" height: 30px;width:30px; font-weight: bold; font-size: 1em;  text-align: center;"><?php echo $year[2]; ?></td>
                        <td style=" height: 30px;width:30px; font-weight: bold; font-size: 1em;  text-align: center;"><?php echo $year[3]; ?></td>
                        <td style=" width:80px;">&nbsp;</td>
                    </tr>
                    <tr>
                        <td style=" width:24px;  text-align: center;">&nbsp;</td>
                        <td style=" width:24px;  text-align: center;">&nbsp;</td>
                        <td style=" width:24px;  text-align: center;">&nbsp;</td>
                        <td style=" width:24px;  text-align: center;">&nbsp;</td>
                        <td style=" width:24px;  text-align: center;">&nbsp;</td>
                        <td style=" width:24px;  text-align: center;">&nbsp;</td>
                        <td style=" width:24px;  text-align: center;">&nbsp;</td>
                        <td style=" width:24px;  text-align: center;">&nbsp;</td>
                    </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    </table>
    <table style="margin-top:20px;">
        <tbody>
        <tr>
            <td colspan="9" style="padding-left:80px;">
                <table>
                    <tbody>
                    <tr>
                        <td style="width: 40px"><strong class="hidden">Pay :-</strong></td>
                        <?php
                        if (in_array($extra['master']['pvType'],$chequetype)){

                            ?>
                            <td style="font-size: 1em;font-weight: bold;vertical-align: top;padding-bottom: 16px;"><?php echo $extra['master']['partyName']; ?> </td>
                        <?php
                        }else{
                            ?>
                            <td style="font-size: 1em;font-weight: bold;vertical-align: top;padding-bottom: 16px;"><?php echo
                                $extra['master']['nameOnCheque']; ?> </td>
                        <?php
                        }
                        ?>

                    </tr>
                    </tbody>
                </table>
            </td>
            <td style=" width:27px;">&nbsp;</td>
        </tr>
        <tr>
            <td style="width:67%; vertical-align: top; padding-top: -3px;padding-right: 30px;padding-left:50px;">
                <table>
                    <tbody>
                    <tr>
                        <td style="width: 40px;"><strong class="hidden">Rupees :- </strong></td>
                        <td style="font-weight: bold;font-size: 0.9em;"><?php echo  $str1 ?></td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold;padding-left: 20px;  padding-top: 13px;font-size: 0.9em;" colspan="2"><?php echo $str ?></td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold;padding-left: 20px; padding-top: 14px;font-size: 0.9em;" colspan="2"><?php echo $str3 ?></td>
                    </tr>
                    </tbody>
                </table>
            </td>
            <td style="width: 33%;">
                <table style="border: 1px solid white;">
                    <tbody>
                    <tr>
                        <td
                            style="font-weight: bold;text-align: left;font-size: 0.9em;">
                           &nbsp;
                        </td>
                    </tr>
                    </tbody>
                </table>

            </td>
        </tr>
        </tbody>
    </table>
    <table style="font-weight: bold;  margin-left:600px; width:90%;margin-top:-25px;">
        <tbody>
        <tr>
            <td style="font-weight: bold;text-align: left;height: 50px;font-size: 0.9em;">
                <span style="font-weight: bold;text-align: left;height: 50px;font-size: 0.9em;"><?php echo $totwithdecimal; ?></span>
            </td>
        </tr>
        </tbody>
    </table>
    <table style="text-align: center; margin-left:350px; width:100%; margin-top: 35px;">
        <tbody>
        <tr>
            <?php
            for ($x = 0; $x < $extra['signature']['authourizedSignatureLevel']; $x++) {

                ?>
                <?php
                if($x==1){
                    ?>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <?php
                }
                ?>
                


                <?php
            }
            ?>
        </tr>
        </tbody>
    </table>
</div>


<script>

</script>
